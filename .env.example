# =============================================================================
# JIRA QA AI GENERATOR - Configuration
# =============================================================================
# Copiez ce fichier vers .env et remplissez les valeurs

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=Jira QA AI Generator
APP_ENV=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=true

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@localhost:5432/jira_qa_ai
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# -----------------------------------------------------------------------------
# Redis (Cache & Rate Limiting)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
JWT_SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Encryption key for API keys storage (32 bytes base64)
ENCRYPTION_KEY=your-32-byte-encryption-key-here==

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# -----------------------------------------------------------------------------
# Jira Configuration
# -----------------------------------------------------------------------------
JIRA_URL=https://your-instance.atlassian.net
JIRA_EMAIL=your-email@company.com
JIRA_API_TOKEN=your-jira-api-token

# Jira Field Mapping (customizable)
JIRA_ACCEPTANCE_CRITERIA_FIELD=customfield_10001  # or "description", "comment"
JIRA_TEST_SCENARIOS_MODE=subtask  # subtask, comment, xray, zephyr

# Jira Issue Types
JIRA_TEST_CASE_ISSUE_TYPE=Sub-task
JIRA_PROJECT_KEY=PROJ

# -----------------------------------------------------------------------------
# LLM Configuration
# -----------------------------------------------------------------------------
# Provider: gemini, claude, openai
LLM_PROVIDER=gemini

# Default model per provider
LLM_GEMINI_MODEL=gemini-1.5-pro
LLM_CLAUDE_MODEL=claude-3-5-sonnet-20241022
LLM_OPENAI_MODEL=gpt-4-turbo-preview

# API Keys
GEMINI_API_KEY=your-gemini-api-key
CLAUDE_API_KEY=your-claude-api-key
OPENAI_API_KEY=your-openai-api-key

# LLM Parameters
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=4096
LLM_TIMEOUT_SECONDS=60

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60  # seconds

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------
SENTRY_DSN=
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# -----------------------------------------------------------------------------
# External Integrations (Optional)
# -----------------------------------------------------------------------------
# Xray for Jira
XRAY_ENABLED=false
XRAY_CLIENT_ID=
XRAY_CLIENT_SECRET=

# Zephyr Scale
ZEPHYR_ENABLED=false
ZEPHYR_API_TOKEN=

# Slack Notifications
SLACK_WEBHOOK_URL=
SLACK_ENABLED=false

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_AUTO_PUBLISH=true
FEATURE_TEST_GENERATION=true
FEATURE_TRACEABILITY=true
